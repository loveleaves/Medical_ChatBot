(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-606bb23e"],{8120:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container home"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("基本设置")]),i("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["chatgpt:user:getConfigSys"],expression:"['chatgpt:user:getConfigSys']"}],staticStyle:{float:"right","margin-left":"10px"},attrs:{icon:"el-icon-refresh",size:"mini",type:"primary"},on:{click:function(t){return e.refreshData()}}},[e._v("刷新")]),e.disable?e._e():i("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["chatgpt:user:getConfigSys"],expression:"['chatgpt:user:getConfigSys']"}],staticStyle:{float:"right"},attrs:{type:"success",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.updateSettingFun()}}},[e._v("保存")]),e.disable?i("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["chatgpt:user:getConfigSys"],expression:"['chatgpt:user:getConfigSys']"}],staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.EditSettingFun()}}},[e._v("编辑")]):e._e(),e.disable?e._e():i("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["chatgpt:user:getConfigSys"],expression:"['chatgpt:user:getConfigSys']"}],staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"info",icon:"el-icon-close",size:"mini"},on:{click:function(t){return e.cancleSettingFun()}}},[e._v("取消")]),i("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"danger",plain:"",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleRefreshCache}},[e._v("刷新缓存")]),i("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],staticStyle:{float:"right","margin-left":"10px"},attrs:{plain:"",icon:"el-icon-mobile",size:"mini"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("数据同步")]),i("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],staticStyle:{float:"right","margin-left":"10px"},attrs:{plain:"",icon:"el-icon-mobile",size:"mini"},on:{click:function(t){e.wordNotice=!0}}},[e._v("全局通告（实时）")])],1),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{size:"mini","label-width":"100px","label-position":"top"}},e._l(e.formData,(function(t,a){return i("el-form-item",{attrs:{label:a+1+":"+t.name}},[i("el-input",{style:{width:"100%"},attrs:{disabled:e.disable,clearable:""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}}),t.desc?i("div",{staticStyle:{"margin-top":"10px"}},[i("el-alert",{attrs:{type:"success",description:t.desc}})],1):e._e()],1)})),1)],1),i("el-dialog",{attrs:{title:"同步数据",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",[i("el-form-item",{attrs:{label:"同步方式"}},[i("el-select",{attrs:{placeholder:"请选择同步方式"},model:{value:e.updateType,callback:function(t){e.updateType=t},expression:"updateType"}},[i("el-option",{attrs:{label:"全量同步",value:"1"}}),i("el-option",{attrs:{label:"增量同步(推荐)",value:"2"}})],1)],1),i("el-form-item",{attrs:{label:"更新内容"}},[i("el-input",{attrs:{type:"textarea",rows:"5",maxlength:"-1",autocomplete:"off"},model:{value:e.formUpdateDataStr,callback:function(t){e.formUpdateDataStr=t},expression:"formUpdateDataStr"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sysnConfig()}}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"世界消息",visible:e.wordNotice},on:{"update:visible":function(t){e.wordNotice=t}}},[i("el-form",[i("el-form-item",{attrs:{label:"消息内容"}},[i("el-input",{attrs:{type:"textarea",rows:"5",maxlength:"-1",autocomplete:"off"},model:{value:e.wordText,callback:function(t){e.wordText=t},expression:"wordText"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.wordNotice=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.wordNoticeIng()}}},[e._v("发 送")])],1)],1)],1)},o=[],n=i("b775");function s(e){return Object(n["a"])({url:"/yuan/ai/common/saveConfigInfo",method:"post",data:e})}function r(){return Object(n["a"])({url:"/yuan/ai/common/getConfigSys",method:"get"})}function l(e){return Object(n["a"])({url:"/yuan/ai/common/sysnConfigInfo",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/yuan/ai/w/stream/wordSay?content="+e,method:"post"})}var u=i("c0c3"),m={components:{},props:[],data:function(){return{formData:[],loading:!0,disable:!0,dialogFormVisible:!1,updateType:"2",formUpdateDataStr:"",wordNotice:!1,wordText:""}},computed:{},watch:{},created:function(){this.refreshData()},mounted:function(){},methods:{wordNoticeIng:function(){var e=this;this.loading=!0,c(this.wordText).then((function(t){200==t.code&&(e.$modal.msgSuccess("发送成功,请查看信息"),e.loading=!1)}))},updateSettingFun:function(){var e=this;this.loading=!0,s(this.formData).then((function(t){200==t.code&&(e.$modal.msgSuccess("修改成功,已刷新缓存"),e.loading=!1,e.disable=!0)}))},EditSettingFun:function(){this.disable=!1},cancleSettingFun:function(){this.disable=!0,this.refreshData()},refreshData:function(){var e=this;this.loading=!0,r().then((function(t){(t.code=200)&&(e.formData=t.data,e.loading=!1,e.disable=!0)}))},handleRefreshCache:function(){var e=this;Object(u["f"])().then((function(){e.$modal.msgSuccess("刷新成功")}))},sysnConfig:function(){var e=this,t=!1,i=null;try{i=JSON.parse(this.formUpdateDataStr),t=!0}catch(o){}if(t){var a={formData:i,type:this.updateType};l(a).then((function(){e.dialogFormVisible=!1,e.refreshData(),e.$modal.msgSuccess("同步完成")}))}else this.$modal.msgError("参数输入错误")}}},f=m,d=(i("ef35"),i("2877")),p=Object(d["a"])(f,a,o,!1,null,null,null);t["default"]=p.exports},a0ff:function(e,t,i){},ef35:function(e,t,i){"use strict";i("a0ff")}}]);