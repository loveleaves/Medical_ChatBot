(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea8ca7de"],{"3ffa":function(t,e,s){"use strict";s("fb44")},"6aa1":function(t,e,s){"use strict";s.d(e,"d",(function(){return a})),s.d(e,"e",(function(){return r})),s.d(e,"c",(function(){return i})),s.d(e,"a",(function(){return l})),s.d(e,"f",(function(){return o})),s.d(e,"b",(function(){return c}));var n=s("b775");function a(t){return Object(n["a"])({url:"/sms/signature/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/sms/signature/list",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/sms/signature/"+t,method:"get"})}function l(t){return Object(n["a"])({url:"/sms/signature",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/sms/signature",method:"put",data:t})}function c(t){return Object(n["a"])({url:"/sms/signature/"+t,method:"delete"})}},"7ae8":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-card",{staticClass:"box-card"},[s("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"短信发送测试",name:"first"}},[s("el-alert",{attrs:{title:"1. 建议测试前确保套餐包余量或账户资金充足，以保证短信测试成功。",type:"warning",closable:!1}}),s("el-alert",{attrs:{title:"2. 本功能仅适用于API/控制台发送测试阶段，建议您尽早申请符合您业务真实场景的签名、模板。",type:"warning",closable:!1}}),s("el-alert",{attrs:{title:"3. 需要添加测试手机号码，才能发送测试。您可以前往 业务统计 查看发送结果及明细。",type:"warning",closable:!1}}),s("el-alert",{attrs:{title:"4. 普通短信70个字，长短信64个字/条计费（包含签名）,长短信不拆分。",type:"warning",closable:!1}}),s("div",{staticStyle:{"margin-top":"20px"}}),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{xs:48,sm:48,md:28,lg:16}},[s("el-card",{staticClass:"update-log"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("联系信息")])]),s("div",{staticClass:"body"},[s("el-form",[s("el-form-item",{attrs:{label:"短信服务",prop:"smsProductId"}},[s("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择短信服务"},on:{change:t.smsProductSelect},model:{value:t.smsProductId,callback:function(e){t.smsProductId=e},expression:"smsProductId"}},t._l(t.smsProductListTemp,(function(t){return s("el-option",{key:t.smsProductId,attrs:{label:t.remark+"(剩余"+t.smsProductBlance+"条)",value:t.smsProductId}})})),1),s("br"),s("span",{staticClass:"span_tip"},[t._v("没有需要的产品，马上"),s("a",{staticStyle:{color:"#0070cc"},attrs:{href:"/cmc_product/smsproduct"}},[t._v("添加产品")]),t._v("。点此查看"),s("a",{staticStyle:{color:"#0070cc"},attrs:{href:"/cmc_product/smsproduct"}},[t._v("产品列表")])])],1),s("el-form-item",{attrs:{label:"短信签名",prop:"smsSignatureId"}},[s("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择短信签名"},on:{change:t.signatureSelect},model:{value:t.smsSignatureId,callback:function(e){t.smsSignatureId=e},expression:"smsSignatureId"}},t._l(t.signatureListTemp,(function(t){return s("el-option",{key:t.smsSignatureId,attrs:{label:t.smsSignatureName,value:t}})})),1),s("br"),s("span",{staticClass:"span_tip"},[t._v("没有需要的签名，马上"),s("a",{staticStyle:{color:"#0070cc"},attrs:{href:"/cmc_product/signature"}},[t._v("添加签名")]),t._v("。点此查看"),s("a",{staticStyle:{color:"#0070cc"},attrs:{href:"/cmc_product/signature"}},[t._v("签名列表")])])],1),s("el-form-item",{attrs:{label:"短信模板",prop:"smsTemplateId"}},[s("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择短信模板"},on:{change:t.templateSelect},model:{value:t.smsTemplateId,callback:function(e){t.smsTemplateId=e},expression:"smsTemplateId"}},t._l(t.templateListTemp,(function(t){return s("el-option",{key:t.smsTemplateId,attrs:{label:t.smsTemplateName,value:t}})})),1),s("br"),s("span",{staticClass:"span_tip"},[t._v("没有需要的模板，马上"),s("a",{staticStyle:{color:"#0070cc"},attrs:{href:"/cmc_product/template"}},[t._v("添加模板")]),t._v("。点此查看"),s("a",{staticStyle:{color:"#0070cc"},attrs:{href:"/cmc_product/template"}},[t._v("模板列表")])])],1),s("el-form-item",{attrs:{label:"接收手机号码"}},[s("span",{staticStyle:{"font-size":"12px",color:"#5a5e66"}},[t._v("输入或黏贴接收短信的手机")]),s("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},on:{input:t.sendPhoneTestline},model:{value:t.sendPhoneTest,callback:function(e){t.sendPhoneTest=e},expression:"sendPhoneTest"}}),s("span",{staticStyle:{"font-size":"12px",color:"#5a5e66"}},[t._v("多个号码请用回车分开，即一行算一个号码，一次最多发送2万个手机号码您一共输入了（"+t._s(t.sendPhoneTestNum)+"）个号码 ，自动过滤重复号码。")])],1),s("el-button",{attrs:{type:"primary"},on:{click:t.sendTestSms}},[t._v("立即发送测试")])],1)],1)])],1),s("el-col",{attrs:{xs:24,sm:24,md:12,lg:8}},[s("el-card",{staticClass:"update-log"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("实例展示")])]),s("div",{staticStyle:{"text-align":"center"}},[s("div",{staticClass:"bg_big"},[s("div",{staticClass:"bg_big_content"},[s("div",{staticClass:"bg_big_sms_content"},[t._v(" "+t._s(t.signatureAll)+" ")]),s("div",{staticClass:"bg_big_sms_tip"},[t._v(" 计费说明：短信含签名（"+t._s(t.sendTestNum)+"）个字，按（"+t._s(t.sendTestTNum)+"）条计费（实际发送时，签名、变量长度会影响总字数）。 ")])])])])])],1)],1)],1),s("el-tab-pane",{attrs:{label:"配置管理",name:"second"}},[t._v("配置管理")]),s("el-tab-pane",{attrs:{label:"角色管理",name:"third"}},[t._v("角色管理")]),s("el-tab-pane",{attrs:{label:"定时任务补偿",name:"fourth"}},[t._v("定时任务补偿")])],1)],1)],1)},a=[],r=(s("ac1f"),s("1276"),s("d3b7"),s("159b"),s("a434"),s("498a"),s("4d63"),s("c607"),s("2c3e"),s("25f0"),s("00b4"),s("6aa1")),i=s("f3e3"),l=s("7aea"),o={name:"Index",data:function(){return{activeName:"first",sendTestText:"",sendTestNum:0,sendTestTNum:0,sendPhoneTest:"",sendPhoneTestNum:1,smsSignatureId:"",smsSignatureIdForText:"",signatureListTemp:[],smsTemplateId:"",smsTemplateIdForText:"",templateListTemp:[],smsProductId:"",smsProductIdForText:"",smsProductListTemp:[],queryParamsTemp:{pageNum:1,pageSize:10},signatureAll:"",signatureTitle:"",templateContent:""}},created:function(){this.getListTemp(),this.getListTemplateListTemp},methods:{signsetSize:function(t){var e=parseInt(t.length/70);this.sendTestTNum=e+1,this.sendTestNum=t.length},sendPhoneTestline:function(t){if(0==t.length)this.sendPhoneTestNum=0;else{var e=this.sendPhoneTest.split(/[(\r\n)\r\n]+/);e.forEach((function(t,s){t||e.splice(s,1)})),this.sendPhoneTestNum=e.length}},getListTemp:function(){var t=this;this.loading=!0,Object(r["e"])(this.queryParamsTemp).then((function(e){t.signatureListTemp=e.rows})),Object(i["d"])(this.queryParamsTemp).then((function(e){t.templateListTemp=e.rows})),Object(l["d"])(this.queryParamsTemp).then((function(e){t.smsProductListTemp=e.rows}))},signatureSelect:function(t){this.smsSignatureId=t.smsSignatureName,this.smsSignatureIdForText=t.smsSignatureId+"",this.signatureTitle=t.smsSignatureName,this.signatureAll="",this.signatureAll="【"+this.signatureTitle+"】"+this.signatureAll+this.templateContent,this.signsetSize(this.signatureAll)},templateSelect:function(t){this.templateContent=t.smsTemplateContent,this.smsTemplateIdForText=t.smsTemplateId+"",this.signatureAll="",this.signatureAll="【"+this.signatureTitle+"】"+this.signatureAll+this.templateContent,this.signsetSize(this.signatureAll)},smsProductSelect:function(t){this.smsProductId=t},sendTestSms:function(){var t=this;this.smsSignatureIdForText,this.smsTemplateIdForText,this.sendPhoneTest,this.smsProductId;if(""!==this.smsProductId&&this.smsProductId+"".trim().length!==0)if(""!==this.smsSignatureIdForText&&0!==this.smsSignatureIdForText.trim().length)if(""!==this.smsTemplateIdForText&&0!==this.smsTemplateIdForText.trim().length)if(""!==this.sendPhoneTest&&0!==this.sendPhoneTest.trim().length){var e=this.sendPhoneTest.split(/[(\r\n)\r\n]+/);e.forEach((function(t,s){t||e.splice(s,1)}));var s="^((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0,3,5-9])|(18[0-9])|166|198|199|191|(147))\\d{8}$",n=new RegExp(s);e.forEach((function(e,s){n.test(e)||t.$notify.error({title:"第"+(s+1)+"条手机号出错",message:e+"手机号不符合条件"})}));var a={smsSignatureId:this.smsSignatureIdForText,smsTemplateId:this.smsTemplateIdForText,sendPhoneTest:this.sendPhoneTest,smsProductId:this.smsProductId};console.log(a)}else this.$notify.error({title:"手机号错误",message:"测试手机号为空"});else this.$notify.error({title:"短信模板错误",message:"模板选择不正确"});else this.$notify.error({title:"短信模板错误",message:"签名选择不正确"});else this.$notify.error({title:"产品未选择错误",message:"请选择正确的产品"})}}},c=o,u=(s("3ffa"),s("2877")),m=Object(u["a"])(c,n,a,!1,null,null,null);e["default"]=m.exports},"7aea":function(t,e,s){"use strict";s.d(e,"d",(function(){return a})),s.d(e,"c",(function(){return r})),s.d(e,"a",(function(){return i})),s.d(e,"f",(function(){return l})),s.d(e,"b",(function(){return o})),s.d(e,"e",(function(){return c}));var n=s("b775");function a(t){return Object(n["a"])({url:"/sms/smsproduct/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/sms/smsproduct/"+t,method:"get"})}function i(t){return Object(n["a"])({url:"/sms/smsproduct",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/sms/smsproduct",method:"put",data:t})}function o(t){return Object(n["a"])({url:"/sms/smsproduct/"+t,method:"delete"})}function c(t){return Object(n["a"])({url:"/sms/smsproduct/refresh?smsProductId="+t,method:"put"})}},f3e3:function(t,e,s){"use strict";s.d(e,"d",(function(){return a})),s.d(e,"c",(function(){return r})),s.d(e,"a",(function(){return i})),s.d(e,"e",(function(){return l})),s.d(e,"b",(function(){return o}));var n=s("b775");function a(t){return Object(n["a"])({url:"/sms/template/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/sms/template/"+t,method:"get"})}function i(t){return Object(n["a"])({url:"/sms/template",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/sms/template",method:"put",data:t})}function o(t){return Object(n["a"])({url:"/sms/template/"+t,method:"delete"})}},fb44:function(t,e,s){}}]);